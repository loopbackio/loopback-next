import {
  repository,
} from '@loopback/repository';
import {
  param,
  get,
} from '@loopback/rest';
import { <%= sourceModelClassName %>, <%= targetModelClassName %> } from '../models';
import { <%= sourceRepositoryClassName %> } from '../repositories';

export class <%= controllerClassName %> {
  constructor(
    @repository(<%= sourceRepositoryClassName %>)
    public <%= paramSourceRepository %>: <%= sourceRepositoryClassName %>,
  ) { }

  @get('/<%= sourceModelName %>s/{id}/<%= targetModelName %>')
  async get<%= targetModelClassName %>(
    @param.path.<%= sourceModelPrimaryKeyType %>('id') <%= relationPropertyName %>: typeof <%= sourceModelClassName %>.prototype.<%= sourceModelPrimaryKey %>,
  ): Promise<<%= targetModelClassName %>> {
    return await this.<%= paramSourceRepository %>.<%= paramTargetModel %>(<%= relationPropertyName %>);
  }
}
